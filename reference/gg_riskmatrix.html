<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot risk matrices — gg_riskmatrix • injurytools</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot risk matrices — gg_riskmatrix"><meta name="description" content="Depict risk matrix plots, a graph in which the case (e.g. injury) incidence (frequency)
is plotted against the average days lost per case (consequence). The point
estimate of case incidence together with its confidence interval is
plotted, according to the method specified. On the y-axis, the mean time-loss
per case together with \(\pm\) IQR (days) is plotted. The number shown
inside the point and the point size itself, report the case burden (days
lost per athlete-exposure time), the bigger the size the greater the burden.
See References section."><meta property="og:description" content="Depict risk matrix plots, a graph in which the case (e.g. injury) incidence (frequency)
is plotted against the average days lost per case (consequence). The point
estimate of case incidence together with its confidence interval is
plotted, according to the method specified. On the y-axis, the mean time-loss
per case together with \(\pm\) IQR (days) is plotted. The number shown
inside the point and the point size itself, report the case burden (days
lost per athlete-exposure time), the bigger the size the greater the burden.
See References section."><meta property="og:image" content="https://lzumeta.github.io/injurytools/logo.png"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-17GBPW9WTZ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-17GBPW9WTZ');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">injurytools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/prepare-injury-data.html">Prepare data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Describe data</h6></li>
    <li><a class="dropdown-item" href="../articles/estimate-epi-measures.html">Estimate summary statistics</a></li>
    <li><a class="dropdown-item" href="../articles/visualize-injury-data.html">Visualize data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Model data</h6></li>
    <li><a class="dropdown-item" href="../articles/model-injury-data-i.html">Injuries as count data</a></li>
    <li><a class="dropdown-item" href="../articles/model-injury-data-ii.html">Injuries as time-to-event data</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/lzumeta/injurytools"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot risk matrices</h1>
      <small class="dont-index">Source: <a href="https://github.com/lzumeta/injurytools/blob/master/R/gg_riskmatrix.R" class="external-link"><code>R/gg_riskmatrix.R</code></a></small>
      <div class="d-none name"><code>gg_riskmatrix.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Depict risk matrix plots, a graph in which the case (e.g. injury) incidence (frequency)
is plotted against the average days lost per case (consequence). The point
estimate of case incidence together with its confidence interval is
plotted, according to the method specified. On the y-axis, the mean time-loss
per case together with \(\pm\) IQR (days) is plotted. The number shown
inside the point and the point size itself, report the case burden (days
lost per athlete-exposure time), the bigger the size the greater the burden.
See References section.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gg_riskmatrix</span><span class="op">(</span></span>
<span>  <span class="va">injd</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"poisson"</span>, <span class="st">"negbin"</span>, <span class="st">"zinfpois"</span>, <span class="st">"zinfnb"</span><span class="op">)</span>,</span>
<span>  add_contour <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Incidence (injuries per _)"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Mean time-loss (days) per injury"</span>,</span>
<span>  errh_height <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  errv_width <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  cont_max_x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cont_max_y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-injd">injd<a class="anchor" aria-label="anchor" href="#arg-injd"></a></dt>
<dd><p><code>injd</code> <strong>S3</strong> object (see
<code><a href="prepare_data.html">prepare_all()</a></code>).</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>Character specifying the name of the column. A (categorical)
variable referring to the "type of case" (e.g. "type of injury"
muscular/articular/others or overuse/not-overuse etc.) according to which
visualize epidemiological summary statistics (optional, defaults to
<code>NULL</code>).</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Method to estimate the incidence (burden) rate. One of
"poisson", "negbin", "zinfpois" or "zinfnb"; that stand for Poisson method,
negative binomial method, zero-inflated Poisson and zero-inflated negative
binomial.</p></dd>


<dt id="arg-add-contour">add_contour<a class="anchor" aria-label="anchor" href="#arg-add-contour"></a></dt>
<dd><p>Logical, whether or not to add contour lines of the
product between case incidence and mean severity (i.e. 'incidence x
average time-loss'), which leads to case burden (defaults to
<code>TRUE</code>).</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Text for the main title passed to
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggplot2::ggtitle()</a></code>.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>x-axis label to be passed to
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggplot2::xlab()</a></code>.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>y-axis label to be passed to
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggplot2::ylab()</a></code>.</p></dd>


<dt id="arg-errh-height">errh_height<a class="anchor" aria-label="anchor" href="#arg-errh-height"></a></dt>
<dd><p>Set the height of the horizontal interval whiskers; the
<code>height</code> argument for
<code><a href="https://ggplot2.tidyverse.org/reference/geom_errorbarh.html" class="external-link">ggplot2::geom_errorbarh()</a></code>.</p></dd>


<dt id="arg-errv-width">errv_width<a class="anchor" aria-label="anchor" href="#arg-errv-width"></a></dt>
<dd><p>Set the width of the vertical interval whiskers; the
<code>width</code> argument for <br><code><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">ggplot2::geom_errorbar()</a></code>.</p></dd>


<dt id="arg-cont-max-x-cont-max-y">cont_max_x, cont_max_y<a class="anchor" aria-label="anchor" href="#arg-cont-max-x-cont-max-y"></a></dt>
<dd><p>Numerical (optional) values indicating the
maximum on the x-axis and y-axis, respectively, to be reached by the
contour.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other arguments passed on to
<code><a href="https://ggplot2.tidyverse.org/reference/geom_contour.html" class="external-link">ggplot2::geom_contour()</a></code> and
<code><a href="https://eliocamp.github.io/metR/reference/geom_text_contour.html" class="external-link">metR::geom_text_contour()</a></code>.
These are often aesthetics like <code>bins = 15</code> or <code>breaks = 10</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot object (to which optionally more layers can be added).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Bahr R, Clarsen B, Derman W, et al. International Olympic Committee
consensus statement: methods for recording and reporting of epidemiological
data on injury and illness in sport 2020 (including STROBE Extension for
Sport Injury and Illness Surveillance (STROBE-SIIS)) <em>British Journal of
Sports Medicine</em> 2020; 54:372-389.</p>
<p>Fuller C. W. (2018). Injury Risk (Burden), Risk Matrices and Risk Contours
in Team Sports: A Review of Principles, Practices and Problems.<em>Sports
Medicine</em>, 48(7), 1597–1606. <br><a href="https://doi.org/10.1007/s40279-018-0913-5" class="external-link">https://doi.org/10.1007/s40279-018-0913-5</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">df_exposures</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_data.html">prepare_exp</a></span><span class="op">(</span><span class="va">raw_df_exposures</span>, person_id <span class="op">=</span> <span class="st">"player_name"</span>,</span></span>
<span class="r-in"><span>                            date <span class="op">=</span> <span class="st">"year"</span>, time_expo <span class="op">=</span> <span class="st">"minutes_played"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df_injuries</span>  <span class="op">&lt;-</span> <span class="fu"><a href="prepare_data.html">prepare_inj</a></span><span class="op">(</span><span class="va">raw_df_injuries</span>, person_id <span class="op">=</span> <span class="st">"player_name"</span>,</span></span>
<span class="r-in"><span>                            date_injured <span class="op">=</span> <span class="st">"from"</span>, date_recovered <span class="op">=</span> <span class="st">"until"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">injd</span>         <span class="op">&lt;-</span> <span class="fu"><a href="prepare_data.html">prepare_all</a></span><span class="op">(</span>data_exposures <span class="op">=</span> <span class="va">df_exposures</span>,</span></span>
<span class="r-in"><span>                            data_injuries  <span class="op">=</span> <span class="va">df_injuries</span>,</span></span>
<span class="r-in"><span>                            exp_unit <span class="op">=</span> <span class="st">"matches_minutes"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu">gg_riskmatrix</span><span class="op">(</span><span class="va">injd</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>An injury average time-loss is bigger than its 75% quartile</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     time-loss. Possibly, there is a concrete long-term injury in the data.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     For plotting purposes the vertical upper limit (i.e. 75% quartile)</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     is lengthened to the average value.</span>
<span class="r-plt img"><img src="gg_riskmatrix-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">gg_riskmatrix</span><span class="op">(</span><span class="va">injd</span>, by <span class="op">=</span> <span class="st">"injury_type"</span>, title <span class="op">=</span> <span class="st">"Risk matrix"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>An injury average time-loss is bigger than its 75% quartile</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     time-loss. Possibly, there is a concrete long-term injury in the data.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     For plotting purposes the vertical upper limit (i.e. 75% quartile)</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>     is lengthened to the average value.</span>
<span class="r-plt img"><img src="gg_riskmatrix-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://lzumeta.eus/" class="external-link">Lore Zumeta Olaskoaga</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

